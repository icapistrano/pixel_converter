(this.webpackJsonppixel_converter=this.webpackJsonppixel_converter||[]).push([[0],{263:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(86),i=n.n(r),s=(n(92),n(12)),o=n.n(s),l=n(17),u=n(8),j=(n(94),n(0)),b=function(e){var t=e.letter,n=e.bgColour,c=e.moveY;return Object(j.jsx)("div",{className:"logo-letter-container box-shadow",style:{background:n,marginTop:c},children:Object(j.jsx)("h1",{className:"pixel-font",children:t})})},d=function(){return Object(j.jsxs)("div",{className:"logo-grid-container",children:[Object(j.jsx)(b,{letter:"P",bgColour:"#D30000"}),Object(j.jsx)(b,{letter:"I",bgColour:"#E57C00"}),Object(j.jsx)(b,{letter:"X",bgColour:"#E3CD00"}),Object(j.jsx)(b,{letter:"E",bgColour:"#5FBD00"}),Object(j.jsx)(b,{letter:"L",bgColour:"#008EAD"}),Object(j.jsx)("div",{}),Object(j.jsx)(b,{letter:"M",bgColour:"#D30000"}),Object(j.jsx)(b,{letter:"A",bgColour:"#E57C00"}),Object(j.jsx)(b,{letter:"K",bgColour:"#E3CD00"}),Object(j.jsx)(b,{letter:"E",bgColour:"#5FBD00"}),Object(j.jsx)(b,{letter:"R",bgColour:"#008EAD"})]})},x=function(e){var t=e.palette,n=e.updatePickerState,c=e.updateBoxToChange,a=Object.values(t),r=a.length<11?"35px":"30px";return Object(j.jsx)("div",{className:"colour-palette",children:a.map((function(e,t){return Object(j.jsx)("div",{style:{width:r,height:r,backgroundColor:"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")")},onClick:function(){var e;e=t,n(),c(e)}},t)}))})},h=function(e){var t=e.text,n=e.bgColour,c=e.buttonClick,a=e.disableBtn;return Object(j.jsx)("button",{className:"btns",style:{background:n},onClick:function(){a||c()},children:Object(j.jsx)("h3",{className:"pixel-font",children:t})})},p=function(e){var t=e.initialValue,n=e.onChangeCb,c=e.minVal,a=e.maxVal;return Object(j.jsx)("input",{type:"range",min:c,max:a,className:"slider",defaultValue:t,onChange:function(e){return n(e)}})},g=n(87),O=function(e){var t=e.showColourPicker,n=e.colours,c=e.colourToChange,a=e.updatePalette,r=e.draw,i=e.pixels;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{style:{zIndex:"10"},className:"control-container",children:[Object(j.jsx)("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:"0"},onClick:t}),Object(j.jsx)(g.TwitterPicker,{onChangeComplete:function(e){n[c]=Object.values(e.rgb),a(n),r({pixels:i,colour_of_k:n})},triangle:"hide",width:"100%",colors:["#9195A2","#232A74","#140B49","#24327D","#8A85BC"]})]})})},f=function(e){var t=e.canvasId,n=e.canvasImage,a=e.requestImage,r=e.requestState,i=Object(c.useState)(5),s=Object(u.a)(i,2),b=s[0],d=s[1],g=Object(c.useState)(8),f=Object(u.a)(g,2),m=f[0],v=f[1],C=Object(c.useState)(),w=Object(u.a)(C,2),E=w[0],I=w[1],N=Object(c.useState)(!1),k=Object(u.a)(N,2),y=k[0],B=k[1],D=Object(c.useState)(null),S=Object(u.a)(D,2),P=S[0],A=S[1],T=Object(c.useState)(),V=Object(u.a)(T,2),L=V[0],_=V[1],F=Object(c.useState)(!1),z=Object(u.a)(F,2),M=z[0],R=z[1],G=Object(c.useState)(null),q=Object(u.a)(G,2),U=q[0],X=q[1],J={block_size:b,colour_cluster:m,base64:P};Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(n);case 2:return t=e.sent,J.base64=t,e.next=6,a(J);case 6:c=e.sent,_(c.pixels),H(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var H=function(e){var n=e.pixels,c=e.colour_of_k,a=document.getElementById(t),r=a.getContext("2d"),i=r.getImageData(0,0,a.width,a.height),s=i.data,o=c;I(c);for(var l=0;l<n.length;l++){var u=n[l],j=4*l-1;s[j+1]=o[u][0],s[j+2]=o[u][1],s[j+3]=o[u][2],j>0&&(s[j]=255)}r.putImageData(i,0,0)},K=function(e){return new Promise((function(n,c){var a=document.getElementById(t),r=a.getContext("2d"),i=new Image;i.src=e,i.onload=function(){(i.width>400||i.height>400)&&W(i,400),a.width=i.width,a.height=i.height,r.drawImage(i,0,0,a.width,a.height);var e=a.toDataURL().split(","),t=Object(u.a)(e,2),c=(t[0],t[1]);A(c),n(c)}}))},W=function(e,t){var n,c;e.width>e.height?(n=1,c=e.height/e.width):(n=e.width/e.height,c=1),e.width=t*n,e.height=t*c},Y=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(J);case 2:t=e.sent,_(t.pixels),H(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.accept,c=t.target.files[0].type,a=new RegExp(c,"g"),null!==n.match(a)){e.next=6;break}return e.abrupt("return");case 6:return B(!0),r=t.target.files[0],i=URL.createObjectURL(r),e.next=11,K(i);case 11:I();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){R(!M)};return Object(j.jsxs)("div",{className:"postcard box-shadow",children:[Object(j.jsx)("div",{className:"sub-header control-container",children:Object(j.jsx)("h2",{className:"pixel-font",children:"Image to Pixel Converter"})}),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)("canvas",{id:t}),r&&Object(j.jsx)("div",{className:"loading",style:{height:document.getElementById(t).clientHeight,width:document.getElementById(t).clientWidth},children:Object(j.jsx)("h2",{className:"center pixel-font",children:"PIXELATING ..."})})]}),Object(j.jsxs)("div",{className:"canvas-control",children:[Object(j.jsxs)("div",{className:"control-container",children:[Object(j.jsxs)("h3",{className:"pixel-font",children:["Pixel size: ",Object(j.jsx)("span",{children:Object(j.jsx)("h3",{className:"bold pixel-font",children:b})})," "]}),Object(j.jsx)(p,{initialValue:m,minVal:1,maxVal:100,onChangeCb:function(e){var t=parseInt(e.target.value);d(t)}})]}),Object(j.jsxs)("div",{className:"control-container",children:[Object(j.jsxs)("h3",{className:"pixel-font",children:["Colours from image: ",Object(j.jsx)("span",{children:Object(j.jsx)("h3",{className:"bold pixel-font",children:m})})," "]}),Object(j.jsx)(p,{initialValue:m,minVal:1,maxVal:20,onChangeCb:function(e){var t=parseInt(e.target.value);v(t)}})]}),E?Object(j.jsxs)("div",{className:"control-container",children:[Object(j.jsx)("h3",{className:"pixel-font",children:"Colour Palette"}),Object(j.jsx)(x,{palette:E,updatePickerState:Z,updateBoxToChange:X})]}):Object(j.jsx)("div",{className:"control-container"}),M&&Object(j.jsx)(O,{showColourPicker:Z,colourToChange:U,updatePalette:I,colours:E,pixels:L,draw:H}),y?Object(j.jsxs)("div",{className:"button-grid",children:[Object(j.jsx)(h,{text:"PIXELATE IMAGE",bgColour:"#E3CD00",buttonClick:Y,disableBtn:r}),Object(j.jsx)(h,{text:"SAVE IMAGE",bgColour:"#5FBD00",buttonClick:function(){var e=document.getElementById(t).toDataURL("png"),n=document.createElement("a");n.href=e,n.download="pixelated.png",n.click()},disableBtn:r})]}):Object(j.jsxs)("div",{className:"button-grid",children:[Object(j.jsx)(h,{text:"PIXELATE DOG",bgColour:"#E3CD00",buttonClick:Y,disableBtn:r}),Object(j.jsx)("input",{type:"file",className:"file-btn",id:"file-input",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){Q(e)}}),Object(j.jsx)(h,{text:"CHOOSE IMAGE",bgColour:"#008EAD",buttonClick:function(){document.getElementById("file-input").click()},disableBtn:r})]})]})]})},m=n.p+"static/media/normalMochi.07ef3636.jpg";var v=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pfft9x63fc.execute-api.eu-west-2.amazonaws.com/default/python_pixelator",n={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"text/plain"},body:JSON.stringify(t)},a(!0),e.next=5,fetch("https://pfft9x63fc.execute-api.eu-west-2.amazonaws.com/default/python_pixelator",n);case 5:return c=e.sent,a(!1),e.abrupt("return",c.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsx)("div",{style:{position:"relative"},children:Object(j.jsx)("div",{className:"centers",children:Object(j.jsx)(f,{canvasId:"mochi",canvasImage:m,requestImage:r,requestState:n})})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,264)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),C()},92:function(e,t,n){},94:function(e,t,n){}},[[263,1,2]]]);
//# sourceMappingURL=main.66bdc8d3.chunk.js.map